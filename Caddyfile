{
    frankenphp
}

:80 {
    root * /app/public

    # Handle static files first
    @static {
        file
        not path *.php
    }
    file_server @static

    # Handle PHP files
    @php {
        path *.php
    }
    php_server @php

    # Laravel fallback routing
    @notfound {
        not file
        not path /api/*
    }
    rewrite @notfound /index.php

    # Handle Laravel index
    php_server
}